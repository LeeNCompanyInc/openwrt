--- a/arch/mips/ath79/Kconfig
+++ b/arch/mips/ath79/Kconfig
@@ -1119,6 +1119,8 @@ config SOC_AR934X
 
 config SOC_QCA953X
 	select USB_ARCH_HAS_EHCI
+        select HW_HAS_PCI
+        select PCI_AR724X if PCI
 	def_bool n
 
 config SOC_QCA955X
--- a/arch/mips/ath79/dev-eth.c
+++ b/arch/mips/ath79/dev-eth.c
@@ -198,6 +198,7 @@ void __init ath79_register_mdio(unsigned
 	case ATH79_SOC_AR9330:
 	case ATH79_SOC_AR9331:
 	case ATH79_SOC_QCA9533:
+	case ATH79_SOC_QCA9531:
 		mdio_dev = &ath79_mdio1_device;
 		mdio_data = &ath79_mdio1_data;
 		break;
@@ -256,6 +257,7 @@ void __init ath79_register_mdio(unsigned
 		break;
 
 	case ATH79_SOC_QCA9533:
+	case ATH79_SOC_QCA9531:
 		mdio_data->builtin_switch = 1;
 		break;
 
@@ -569,6 +571,7 @@ static void __init ath79_init_eth_pll_da
 	case ATH79_SOC_AR9342:
 	case ATH79_SOC_AR9344:
 	case ATH79_SOC_QCA9533:
+	case ATH79_SOC_QCA9531:
 	case ATH79_SOC_QCA9556:
 	case ATH79_SOC_QCA9558:
 		pll_10 = AR934X_PLL_VAL_10;
@@ -627,6 +630,7 @@ static int __init ath79_setup_phy_if_mod
 		case ATH79_SOC_AR9330:
 		case ATH79_SOC_AR9331:
 		case ATH79_SOC_QCA9533:
+		case ATH79_SOC_QCA9531:
 			pdata->phy_if_mode = PHY_INTERFACE_MODE_MII;
 			break;
 
@@ -688,6 +692,7 @@ static int __init ath79_setup_phy_if_mod
 		case ATH79_SOC_AR9330:
 		case ATH79_SOC_AR9331:
 		case ATH79_SOC_QCA9533:
+		case ATH79_SOC_QCA9531:
 			pdata->phy_if_mode = PHY_INTERFACE_MODE_GMII;
 			break;
 
@@ -992,6 +997,7 @@ void __init ath79_register_eth(unsigned
 		break;
 
 	case ATH79_SOC_QCA9533:
+	case ATH79_SOC_QCA9531:
 		if (id == 0) {
 			pdata->reset_bit = AR933X_RESET_GE0_MAC |
 					   AR933X_RESET_GE0_MDIO;
@@ -1097,6 +1103,7 @@ void __init ath79_register_eth(unsigned
 		case ATH79_SOC_AR9330:
 		case ATH79_SOC_AR9331:
 		case ATH79_SOC_QCA9533:
+		case ATH79_SOC_QCA9531:
 			pdata->mii_bus_dev = &ath79_mdio1_device.dev;
 			break;
 
--- a/arch/mips/ath79/setup.c
+++ b/arch/mips/ath79/setup.c
@@ -158,6 +158,16 @@ static void __init ath79_detect_sys_type
 		rev = id & QCA953X_REV_ID_REVISION_MASK;
 		break;
 
+	case REV_ID_MAJOR_QCA9531_V1:
+	case REV_ID_MAJOR_QCA9531_V2:
+	//case REV_ID_MAJOR_QCA9531:
+		ath79_soc = ATH79_SOC_QCA9533;
+		chip = "9531";
+		rev = id & QCA953X_REV_ID_REVISION_MASK;
+               if (major == REV_ID_MAJOR_QCA9531_V2)
+               rev = 2;
+		break;
+
 	case REV_ID_MAJOR_QCA9556:
 		ath79_soc = ATH79_SOC_QCA9556;
 		chip = "9556";
--- a/arch/mips/include/asm/mach-ath79/ath79.h
+++ b/arch/mips/include/asm/mach-ath79/ath79.h
@@ -33,6 +33,7 @@ enum ath79_soc_type {
 	ATH79_SOC_AR9342,
 	ATH79_SOC_AR9344,
 	ATH79_SOC_QCA9533,
+	ATH79_SOC_QCA9531,
 	ATH79_SOC_QCA9556,
 	ATH79_SOC_QCA9558,
 };
@@ -106,6 +107,11 @@ static inline int soc_is_qca9533(void)
 	return ath79_soc == ATH79_SOC_QCA9533;
 }
 
+static inline int soc_is_qca9531(void)
+{
+	return ath79_soc == ATH79_SOC_QCA9531;
+}
+
 static inline int soc_is_qca953x(void)
 {
 	return soc_is_qca9533();
--- a/arch/mips/ath79/pci.c
+++ b/arch/mips/ath79/pci.c
@@ -53,6 +53,22 @@ static const struct ath79_pci_irq ar724x
 	}
 };
 
+
+static const struct ath79_pci_irq qca953x_pci_irq_map[] __initconst = {
+	{
+		.bus	= 0,
+		.slot	= 0,
+		.pin	= 1,
+		.irq	= ATH79_PCI_IRQ(0),
+	},
+	//{
+	//	.bus	= 1,
+	//	.slot	= 0,
+	//	.pin	= 1,
+	//	.irq	= ATH79_PCI_IRQ(1),
+	//},
+};
+
 static const struct ath79_pci_irq qca955x_pci_irq_map[] __initconst = {
 	{
 		.bus	= 0,
@@ -83,7 +99,10 @@ int __init pcibios_map_irq(const struct
 			   soc_is_ar9344()) {
 			ath79_pci_irq_map = ar724x_pci_irq_map;
 			ath79_pci_nr_irqs = ARRAY_SIZE(ar724x_pci_irq_map);
-		} else if (soc_is_qca955x()) {
+                } else if (soc_is_qca953x()) {
+                        ath79_pci_irq_map = qca953x_pci_irq_map;
+                        ath79_pci_nr_irqs = ARRAY_SIZE(qca953x_pci_irq_map);
+                } else if (soc_is_qca955x()) {
 			ath79_pci_irq_map = qca955x_pci_irq_map;
 			ath79_pci_nr_irqs = ARRAY_SIZE(qca955x_pci_irq_map);
 		} else {
@@ -285,7 +304,18 @@ int __init ath79_register_pci(void)
 						 AR724X_PCI_MEM_SIZE,
 						 0,
 						 ATH79_IP2_IRQ(0));
-	} else if (soc_is_qca9558()) {
+
+        } else if (soc_is_qca953x()) {
+                pdev = ath79_register_pci_ar724x(0,
+                                                QCA955X_PCI_CFG_BASE0,
+                                                QCA955X_PCI_CTRL_BASE0,
+                                                QCA955X_PCI_CRP_BASE0,
+                                                QCA955X_PCI_MEM_BASE0,
+                                                QCA955X_PCI_MEM_SIZE,
+                                                0,
+                                                ATH79_IP2_IRQ(0));
+
+        } else if (soc_is_qca9558()) {
 		pdev = ath79_register_pci_ar724x(0,
 						 QCA955X_PCI_CFG_BASE0,
 						 QCA955X_PCI_CTRL_BASE0,
--- a/arch/mips/ath79/dev-usb.c
+++ b/arch/mips/ath79/dev-usb.c
@@ -286,6 +286,8 @@ void __init ath79_register_usb(void)
 		ar933x_usb_setup();
 	else if (soc_is_ar934x())
 		ar934x_usb_setup();
+        else if (soc_is_qca953x())
+                  qca955x_usb_setup();
 	else if (soc_is_qca955x())
 		qca955x_usb_setup();
 	else
--- a/arch/mips/ath79/early_printk.c
+++ b/arch/mips/ath79/early_printk.c
@@ -114,6 +114,9 @@ static void prom_putchar_init(void)
 	case REV_ID_MAJOR_AR9341:
 	case REV_ID_MAJOR_AR9342:
 	case REV_ID_MAJOR_AR9344:
+       case REV_ID_MAJOR_QCA9531_V1:
+       case REV_ID_MAJOR_QCA9531_V2:
+        //case REV_ID_MAJOR_QCA9531:
 	case REV_ID_MAJOR_QCA9533:
 	case REV_ID_MAJOR_QCA9556:
 	case REV_ID_MAJOR_QCA9558:
--- a/arch/mips/ath79/irq.c
+++ b/arch/mips/ath79/irq.c
@@ -369,6 +369,8 @@ void __init arch_init_irq(void)
 
 	if (soc_is_ar934x())
 		ar934x_ip2_irq_init();
+        else if (soc_is_qca953x())
+                qca955x_irq_init();
 	else if (soc_is_qca955x())
 		qca955x_irq_init();
 }
--- a/arch/mips/ath79/dev-wmac.c
+++ b/arch/mips/ath79/dev-wmac.c
@@ -157,8 +157,8 @@ static void qca953x_wmac_setup(void)
 
 	ath79_wmac_resources[0].start = QCA953X_WMAC_BASE;
 	ath79_wmac_resources[0].end = QCA953X_WMAC_BASE + QCA953X_WMAC_SIZE - 1;
-	ath79_wmac_resources[1].start = ATH79_CPU_IRQ(2);
-	ath79_wmac_resources[1].end = ATH79_CPU_IRQ(2);
+	ath79_wmac_resources[1].start = ATH79_IP2_IRQ(1);
+	ath79_wmac_resources[1].end = ATH79_IP2_IRQ(1);
 
 	t = ath79_reset_rr(QCA953X_RESET_REG_BOOTSTRAP);
 	if (t & QCA953X_BOOTSTRAP_REF_CLK_40)
--- a/arch/mips/include/asm/mach-ath79/ar71xx_regs.h
+++ b/arch/mips/include/asm/mach-ath79/ar71xx_regs.h
@@ -612,7 +612,9 @@
 #define REV_ID_MAJOR_AR9341		0x0120
 #define REV_ID_MAJOR_AR9342		0x1120
 #define REV_ID_MAJOR_AR9344		0x2120
-#define REV_ID_MAJOR_QCA9533		0x0140
+#define REV_ID_MAJOR_QCA9533		0x0141
+#define REV_ID_MAJOR_QCA9531_V1		0x0140
+#define REV_ID_MAJOR_QCA9531_V2		0x0160
 #define REV_ID_MAJOR_QCA9556		0x0130
 #define REV_ID_MAJOR_QCA9558		0x1130
 
