--- a/arch/mips/ath79/Kconfig
+++ b/arch/mips/ath79/Kconfig
@@ -283,6 +283,20 @@ config ATH79_MACH_WPE72
 	select ATH79_DEV_USB
 	select MYLOADER
 
+config ATH79_MACH_WPJ342
+        bool "Compex WPJ342 board support"
+        select SOC_AR934X
+        select ATH79_DEV_ETH
+        select ATH79_DEV_GPIO_BUTTONS
+        select ATH79_DEV_LEDS_GPIO
+        select ATH79_DEV_M25P80
+        select ATH79_DEV_USB
+        select ATH79_DEV_WMAC
+        help
+          Say 'Y' here if you want your kernel to support the
+          Compex WPJ342 board.
+
+
 config ATH79_MACH_WPJ344
         bool "Compex WPJ344 board support"
         select SOC_AR934X
--- a/arch/mips/ath79/Makefile
+++ b/arch/mips/ath79/Makefile
@@ -133,6 +133,7 @@ obj-$(CONFIG_ATH79_MACH_WNR2000_V3)	+= m
 obj-$(CONFIG_ATH79_MACH_WNR2200)	+= mach-wnr2200.o
 obj-$(CONFIG_ATH79_MACH_WP543)		+= mach-wp543.o
 obj-$(CONFIG_ATH79_MACH_WPE72)		+= mach-wpe72.o
+obj-$(CONFIG_ATH79_MACH_WPJ342)		+= mach-wpj342.o
 obj-$(CONFIG_ATH79_MACH_WPJ344)		+= mach-wpj344.o
 obj-$(CONFIG_ATH79_MACH_WPJ558)         += mach-wpj558.o
 obj-$(CONFIG_ATH79_MACH_WRT160NL)	+= mach-wrt160nl.o
--- a/arch/mips/ath79/machtypes.h
+++ b/arch/mips/ath79/machtypes.h
@@ -175,6 +175,7 @@ enum ath79_mach_type {
 	ATH79_MACH_WNR612_V2,		/* NETGEAR WNR612 v2 */
 	ATH79_MACH_WP543,		/* Compex WP543 */
 	ATH79_MACH_WPE72,		/* Compex WPE72 */
+	ATH79_MACH_WPJ342,		/* Compex WPJ342 */
 	ATH79_MACH_WPJ344,		/* Compex WPJ344 */
         ATH79_MACH_WPJ558,              /* Compex WPJ558 */
 	ATH79_MACH_WRT160NL,		/* Linksys WRT160NL */
